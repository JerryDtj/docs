# 深入理解jvm——3.2 对象已死吗

## 如何判定一个对象是否可以被回收之算法篇

### 3.2.1引用计数法——简单高效但是没有采用

​	给对象添加一个计数器,每当有一个地方引用时,计数器加一,当引用失效时,计数器减一.任何时刻计数器为0 的对象就是不可能再被使用的.

​	jvm中没有采用该算法,原因是无法解决对象之间相互循环引用的问题.

### 3.2.2可达性分析算法——jvm回收采用算法

​	通过一系列的“GC ROOT”的对象作为起点,每一个对象关联GC ROOT时,就在引用链上增加一个节点.当一个对象没有GC ROOT相关联时(GC ROOT不可达),那么就认为这个对象时可以回收的.

​	java中可做GC ROOT的对象包含以下几种:

- 虚拟机栈(栈帧中的本地变量表)中引用的对象
- 方法区中类静态属性引用的对象
- 方法区中常量引用的对象
- 本地方法栈中JNI(即一般说的Native方法)引用的对象

### 如何判断一个对象是否引用——java的四种引用

- 强引用
- 软引用
- 弱引用
- 虚引用

### 不可达就一定会被回收吗——对象自救篇

一个对象在被回收时,至少要经历2次标记过程: